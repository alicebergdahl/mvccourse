{% extends 'base.html.twig' %}

{% block title %}Spel Dokumentation{% endblock %}

{% block body %}
<div class="content">
    <div class="row">
        <h1>Spel Dokumentation</h1>
    </div>

    <div class="row">
        <a href="{{ path('proj_docs') }}" class="btn primary-btn docs-btn">Dokumentation för projekt</a>
        <br></br>
    </div>

    <div class="row">
        <div class="column">
            <h2>Regler och Instruktioner</h2>
            <p>I spelet 21 är målet att uppnå ett totalt kortvärde så nära 21 som möjligt utan att överstiga det. Ess kan räknas som 1 eller 14 beroende på situationen. Du och banken turas om att dra kort. Spelet vinner du om din summa är närmare 21 än bankens utan att överstiga.</p>
        </div>
    </div>

    <div class="row">
        <div class="column">
            <h2>Flödesschema för kodimplementation</h2>
            <p>Här nedan följer en översikt av hur koden implementeras för spelet 21:</p>
            <p>1. Starta spelet och skapa en ny session för spelaren.</p>
            <p>2. Kontrollera om det finns en aktiv session med spelarens hand, annars skapa en ny hand.</p>
            <p>3. Implementera en metod för att dela ut kort från en blandad kortlek.</p>
            <p>4. Implementera en metod för att beräkna totalvärdet av en hand.</p>
            <p>5. Implementera logiken för spelarens drag, inklusive att dra kort och beräkna totalvärdet.</p>
            <p>6. Implementera logiken för bankens drag, inklusive att dra kort och beräkna totalvärdet.</p>
            <p>7. Jämför spelarens och bankens totala värden för att avgöra vinnaren.</p>
            <p>8. Uppdatera spelets status och visa resultatet för spelaren.</p>
        </div>
    </div>

    <div class="row">
        <div class="column">
            <h2>Pseudokod</h2>
            <p>Här nedan följer pseudokoden för spelets viktiga funktioner:</p>
            <pre>
                Starta spelet:
                    Skapa en ny session för spelaren.

                Kontrollera session:
                    Om sessionen inte finns:
                        Skapa en ny hand för spelaren.
                    Annars:
                        Använd den befintliga handen.

                Dela ut kort:
                    Blanda kortleken.
                    Dela ut kort till spelaren och banken.

                Beräkna totalvärdet av handen:
                    Loopa igenom varje kort i handen:
                        Beräkna värdet av varje kort och summera dem.

                Spelarens drag:
                    Dra ett kort från kortleken.
                    Lägg till kortet i spelarens hand.
                    Beräkna det nya totalvärdet av handen.
                    Om totalvärdet är över 21:
                        Avsluta spelet och visa förlustmeddelande.
                    Annars:
                        Fortsätt spelet.

                Bankens drag:
                    Beräkna totalvärdet av bankens hand.
                    Om totalvärdet är under 17:
                        Dra ett kort till.
                        Upprepa tills totalvärdet är 17 eller mer.

                Jämför totalvärden:
                    Om spelarens totalvärde är över 21:
                        Visa förlustmeddelande.
                    Annars om bankens totalvärde är över 21:
                        Visa vinstmeddelande.
                    Annars om spelarens totalvärde är högre än bankens:
                        Visa vinstmeddelande.
                    Annars:
                        Visa förlustmeddelande.

                Uppdatera spelets status:
                    Visa resultatet för spelaren.
                    Uppdatera spelets status.
            </pre>
        </div>
    </div>

    <div class="row">
        <div class="column">
            <h2>Klasser</h2>
            <p>Här är en kort beskrivning av de viktigaste klasserna i spelet:</p>
            <ul>
                <li>Card: Representerar ett spelkort med en kostym och ett värde.</li>
                <li>DeckOfCards: Hanterar en kortlek och har funktioner för att blanda och dela ut kort.</li>
                <li>CardHand: Representerar en hand av kort för en spelare eller banken och har funktioner för att lägga till och räkna totalt kortvärde.</li>
                <li>GameController: Hanterar spellogiken och kommunikationen mellan spelare och banken.</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}